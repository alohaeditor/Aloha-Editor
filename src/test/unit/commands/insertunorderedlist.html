<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Aloha Editor command insertunorderedlist tests</title>
	<!-- include qunit -->
	<link rel="stylesheet" href="../../vendor/qunit.css" type="text/css"/>

	<script type="text/javascript" src="../../vendor/qunit.js"></script>

	<script src="../../../lib/require.js" ></script>
	<!-- include jquery -->
	<script	src="../../../lib/vendor/jquery-1.7.2.js" ></script>
	<script type="text/javascript" src="../../vendor/jquery.simulate.js"></script>
	<script>
        require.config({
		    baseUrl: "../"
        });
		var Aloha = {
			settings: {
				jQuery: $,
				baseUrl: '../../../lib'
			}
		};
	</script>

	<!-- include aloha -->
	<script src="../../../lib/aloha.js" ></script>

	<script>
		// load command test suite
		require( ['commandtest'] );
	</script>
	<style type="text/css">
		.aloha-editable ol li { list-style-type: decimal; margin: 1.5em; }
		.aloha-editable ol li ol li{ list-style-type: decimal; margin: 2em; }
	</style>
</head>
<body>
	<!-- include the tests -->
	<script>
	var tests = {
		defaultCommand: 'insertunorderedlist',
		tests: [
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<p>{}<br/></p>',
				execResult: '<ul><li>{}<br/></li></ul>'
			},
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<ul><li>{}<br/></li></ul>',
				execResult: '<p>{}<br/></p>'
			},
			{	include: ['msie8.0'],
				start: '<ul><li>{}</li></ul>',
				execResult: '<p>{}</p>'
			},
			{	start: '<ol><li>{}</li></ol>',
				execResult: '<ul><li>{}</li></ul>'
			},

			// single line at end
			{	start: 'foo[]',
				execResult: '<ul><li>foo[]</li></ul>'
			},
			{	start: '<p>foo[]</p>',
				execResult: '<ul><li>foo[]</li></ul>'
			},
      {	exclude: ['msie7.0'],
				start: '<ul><li>foo[]</li></ul>',
				execResult: '<p>foo[]</p>'
			},
			{	start: '<ol><li>foo[]</li></ol>',
				execResult: '<ul><li>foo[]</li></ul>'
			},

			// single line at start
			{	start: '[]foo',
				execResult: '<ul><li>[]foo</li></ul>'
			},
			{	start: '<p>[]foo</p>',
				execResult: '<ul><li>[]foo</li></ul>'
			},
      {	exclude: ['msie7.0'],
				start: '<ul><li>[]foo</li></ul>',
				execResult: '<p>[]foo</p>'
			},
			{	start: '<ol><li>[]foo</li></ol>',
				execResult: '<ul><li>[]foo</li></ul>'
			},

			// single line fully selected
			{	start: '[foo]',
				execResult: '<ul><li>[foo]</li></ul>'
			},
			{	start: '<p>[foo]</p>',
				execResult: '<ul><li>[foo]</li></ul>'
			},
      {	exclude: ['msie7.0'],
				start: '<ul><li>[foo]</li></ul>',
				execResult: '<p>[foo]</p>'
			},
			{	start: '<ol><li>[foo]</li></ol>',
				execResult: '<ul><li>[foo]</li></ul>'
			},

			// two lines at end of first
			{	exclude: ['msie'],
				start: 'foo[]<br/>bar',
				execResult: '<ul><li>foo[]</li></ul>bar'
			},
      {	include: ['msie8.0', 'msie9.0'],
				start: 'foo[]<br/>bar',
        execResult: '<ul><li>foo[]<br/></li></ul>bar'
			},
			{	start: '<p>foo[]</p><p>bar</p>',
				execResult: '<ul><li>foo[]</li></ul><p>bar</p>'
			},
      {	exclude: ['msie7.0'],
				start: '<ul><li>foo[]</li></ul><p>bar</p>',
				execResult: '<p>foo[]</p><p>bar</p>'
			},
			{	start: '<ol><li>foo[]</li></ol><p>bar</p>',
				execResult: '<ul><li>foo[]</li></ul><p>bar</p>'
			},

			// two lines at start of second
			{	exclude: ['msie'],
				start: 'foo<br/>[]bar',
        execResult: 'foo<ul><li>[]bar</li></ul>'
			},
      {	include: ['msie8.0', 'msie9.0'],
				start: 'foo<br/>[]bar',
        execResult: 'foo<br/><ul><li>[]bar</li></ul>'
			},
			{	start: '<p>foo</p><p>[]bar</p>',
				execResult: '<p>foo</p><ul><li>[]bar</li></ul>'
			},
      {	exclude: ['msie7.0'],
				start: '<p>foo</p><ul><li>[]bar</li></ul>',
				execResult: '<p>foo</p><p>[]bar</p>'
			},
			{	start: '<p>foo</p><ol><li>[]bar</li></ol>',
				execResult: '<p>foo</p><ul><li>[]bar</li></ul>'
			},

			// two lines fully selected
			{	exclude: ['msie'],
				start: '[foo<br/>bar]',
        execResult: '<ul><li>[foo</li><li>bar]</li></ul>'
			},
      {	include: ['msie8.0', 'msie9.0'],
				start: '[foo<br/>bar]',
        execResult: '<ul><li>[foo<br/></li><li>bar]</li></ul>'
			},
			{	start: '<p>[foo</p><p>bar]</p>',
				execResult: '<ul><li>[foo</li><li>bar]</li></ul>'
			},
			{	exclude: ['msie7.0'],
				start: '<ul><li>[foo</li><li>bar]</li></ul>',
				execResult: '<p>[foo</p><p>bar]</p>'
			},
			{	start: '<ol><li>[foo</li><li>bar]</li></ol>',
				execResult: '<ul><li>[foo</li><li>bar]</li></ul>'
			},

			// nested ol, in outer
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo[]</li><li>bar<ol><li>baz</li><li>quz</li></ol></li></ol>',
        execResult: '<ul><li>foo[]</li></ul><ol><li>bar<ol><li>baz</li><li>quz</li></ol></li></ol>'
			},
			{	include: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo[]</li><li>bar<ol><li>baz</li><li>quz</li></ol></li></ol>',
        execResult: '<ul><li>foo[]</li></ul><ol><li>bar <ol><li>baz</li><li>quz</li></ol></li></ol>'
			},
			// nested ol, in inner
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo</li><li>bar<ol><li>baz[]</li><li>quz</li></ol></li></ol>',
        execResult: '<ol><li>foo</li><li>bar<ul><li>baz[]</li></ul><ol><li>quz</li></ol></li></ol>'
			},
			{	include: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo</li><li>bar<ol><li>baz[]</li><li>quz</li></ol></li></ol>',
        execResult: '<ol><li>foo</li><li>bar <ul><li>baz[]</li></ul><ol><li>quz</li></ol></li></ol>'
			},

			// nested ul, in outer
      {	exclude: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo[]</li><li>bar<ul><li>baz</li><li>quz</li></ul></li></ul>',
				execResult: '<p>foo[]</p><ul><li>bar<ul><li>baz</li><li>quz</li></ul></li></ul>'
			},

      {	include: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo[]</li><li>bar<ul><li>baz</li><li>quz</li></ul></li></ul>',
				execResult: '<p>foo[]</p><ul><li>bar <ul><li>baz</li><li>quz</li></ul></li></ul>'
			},

			// nested ul, in inner
			{	exclude: ['msie'],
				start: '<ul><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ul>',
        execResult: '<ul><li>foo</li><li>bar</li><li>baz[]<ul><li>quz</li></ul></li></ul>'
			},

      {	include: ['msie9.0'],
				start: '<ul><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ul>',
        execResult: '<ul><li>foo</li><li>bar</li><li>baz[] <ul><li>quz</li></ul></li></ul>'
			},

      {	include: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ul>',
        execResult: '<ul><li>foo</li><li>bar</li><li>baz <ul><li>[]quz</li></ul></li></ul>'
			},

			// ol nested in ul, selection in outer
      {	exclude: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo[]</li><li>bar<ol><li>baz</li><li>quz</li></ol></li></ul>',
				execResult: '<p>foo[]</p><ul><li>bar<ol><li>baz</li><li>quz</li></ol></li></ul>'
			},

      {	include: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo[]</li><li>bar<ol><li>baz</li><li>quz</li></ol></li></ul>',
				execResult: '<p>foo[]</p><ul><li>bar <ol><li>baz</li><li>quz</li></ol></li></ul>'
			},

			// ol nested in ul, selection in inner
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo</li><li>bar<ol><li>baz[]</li><li>quz</li></ol></li></ul>',
        execResult: '<ul><li>foo</li><li>bar<ul><li>baz[]</li></ul><ol><li>quz</li></ol></li></ul>'
			},
			{	include: ['msie7.0', 'msie8.0'],
				start: '<ul><li>foo</li><li>bar<ol><li>baz[]</li><li>quz</li></ol></li></ul>',
        execResult: '<ul><li>foo</li><li>bar <ul><li>baz[]</li></ul><ol><li>quz</li></ol></li></ul>'
			},

			// ul nested in ol, selection in outer
			{	exclude: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo[]</li><li>bar<ul><li>baz</li><li>quz</li></ul></li></ol>',
        execResult: '<ul><li>foo[]</li></ul><ol><li>bar<ul><li>baz</li><li>quz</li></ul></li></ol>'
			},
			{	include: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo[]</li><li>bar<ul><li>baz</li><li>quz</li></ul></li></ol>',
        execResult: '<ul><li>foo[]</li></ul><ol><li>bar <ul><li>baz</li><li>quz</li></ul></li></ol>'
			},
			// ul nested in ol, selection in inner
      { exclude: ['msie'],
				start: '<ol><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ol>',
        execResult: '<ol><li>foo</li><li>bar</li><li>baz[]<ul><li>quz</li></ul></li></ol>'
			},

      { include: ['msie9.0'],
				start: '<ol><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ol>',
        execResult: '<ol><li>foo</li><li>bar</li><li>baz[] <ul><li>quz</li></ul></li></ol>'
      },

      { include: ['msie7.0', 'msie8.0'],
				start: '<ol><li>foo</li><li>bar<ul><li>baz[]</li><li>quz</li></ul></li></ol>',
        execResult: '<ol><li>foo</li><li>bar</li><li>baz <ul><li>[]quz</li></ul></li></ol>'
			}
		]
	}
	</script>
	<h1 id="qunit-header">Aloha Editor insertUnorderedList tests</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture"></div>
	<div id="edit" style="margin:20px; border:1px solid #000000;"></div>
	<div id="logBody"></div>
</body>
</html>
