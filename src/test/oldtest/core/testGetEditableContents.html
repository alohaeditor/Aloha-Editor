<html>
  <head>
<!-- IMPORTANT: do not remove the next line, it will include scripts and styles necessary for the test to run -->
<!-- #include file="${com.gentics.labs.browsertest.includedir}/head-include.inc" -->

<!-- TODO: include your required scripts and styles here -->
<!-- #include file="${com.gentics.aloha.src}/test/${com.gentics.aloha.loaderprefix}testloader.html" -->

<script type="text/javascript">
ContentModifierPlugin = new GENTICS.Aloha.Plugin("com.example.contentmodifier");
ContentModifierPlugin.makeClean = function (obj) {
	// we now clean the content :-)
	obj.html('Cleaned it!');
};

</script>

  <script type="text/javascript">

    // create the testcase
    // TODO: rename the testcase
    YAHOO.com.gentics.labs.browsertest.GetContentsTestCase = new YAHOO.tool.TestCase({

        //name of the test case - if not provided, one is auto-generated
        // TODO: provide a proper name for the testcase
        name : "Get Editable Contents Test",

        //---------------------------------------------------------------------
        // setUp and tearDown methods - optional
        //---------------------------------------------------------------------
        
        /*
         * Sets up data that is needed by each test.
         */
        setUp : function () {
            // TODO: implement setup code for the tests
        },
        
        /*
         * Cleans up everything that was created by setUp().
         */
        tearDown : function () {
            // TODO: implement teardown code for the tests
        },
        
        //---------------------------------------------------------------------
        // Test methods - names must begin with "test"
        //---------------------------------------------------------------------
        
        // TODO rename this test and add your own test methods here
        testGettingEditableContents : function () {
            jQuery(GENTICS.Aloha.editables).each( function(index, editable) {
            	YAHOO.util.Assert.areSame('Cleaned it!', editable.getContents(), 'Check whether the plugin cleaned the content');
            });
        }
    });

    // add our testcase
    // TODO add your testcase here
    YAHOO.com.gentics.labs.browsertest.Suite.add(YAHOO.com.gentics.labs.browsertest.GetContentsTestCase);

jQuery(document).ready(function () {
   	$('#editme').aloha();
});

</script>
  </head>
  <body class="yui-skin-sam">

<!-- TODO: add your html code to be tested here -->
<h1>Get Editable Contents Test</h1>
<div id="editme">This is the unclean content!</div>

<!-- IMPORTANT: do not remove the next line, it will include html fragments necessary for the test to run -->
<!-- #include file="${com.gentics.labs.browsertest.includedir}/body-include.inc" -->
  </body>
</html>
