<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Aloha Guides: JavaScript Style Guide</title>

  <!-- guides styles -->
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
  <link rel="stylesheet" type="text/css" href="stylesheets/strobe.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/overrides.style.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/overrides.print.css" media="print" />
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- syntax highlighting styles -->
  <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/shThemeStrobeGuides.css" />
</head>
<body class="guide">

  <header role="banner">
    <div class="container">
      <h1 id="logo">
        <a href="http://aloha-editor.org"><img src="images/header/logo.png" height="50" alt="Aloha Editor" /></a>
      </h1>
      <nav role="navigation">
        <ul>
			<li><a href="http://aloha-editor.org/features.php" title="A shortcut for Aloha Editor features" class="new">Features</a></li>
			<li><a href="http://aloha-editor.org/plugins.php" title="A list of all known Aloha Editor plugins.">Plugins</a></li>
	        <li class="active"><a href="http://aloha-editor.org/guides/" title="The Aloha Editor documentation">Guides</a></li>
			<li><a href="http://aloha-editor.org/about.php" title="Why Aloha? Why HTML5? Lern more about Aloha Editor">About</a></li>
			<li><a href="http://getsatisfaction.com/aloha_editor" title="Get help or help others">Forum</a></li>
			<li><a href="http://aloha-editor.org/demos.php" title="Feel the Aloha">Try it</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div id="feature">
    <div class="wrapper">
      <div class="feature_header">
        <a href="/"><img src="images/strobe/guides.png"></a>
        <h2><a href="/">Aloha Guides</a></h2>
        <p>These guides help you to make your content editable and to develop Aloha.</p>
      </div>
      <div class="feature_sidebar">
        <a href="index.html" id="guidesMenu">
          Guides Index <span id="guidesArrow">&#9656;</span>
        </a>
        <div id="guides" class="clearfix" style="display: none;">
          <a href="index.html" class="guidesMenu">
            Guides Index <span class="guidesArrow">&#9662;</span>
          </a>
          <hr style="clear:both;">
          <dl class="L">
    <dt>Plugins</dt>
      <dd><a href="plugin_block.html">Block</a></dd>
      <dd>Image</dd>
    <dt>Contributing to Aloha</dt>
      <dd>Development Process</dd>
      <dd><a href="style_guide.html">Javascript Style Guide</a></dd>
      <dd><a href="documentation_guidelines.html">Documentation Guidelines</a></dd>
    <dt>Start Here</dt>
      <dd><a href="using_aloha.html">Using Aloha Editor</a></dd>
      <dd><a href="writing_plugins.html">Writing Plugins</a></dd>
</dl>
<dl class="R">
</dl>


        </div>
      </div>
    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
          <div class="headerSection">
            <h2>JavaScript Style Guide</h2>
<p>After reading this guide, you will be able to:</p>
<ul>
	<li>Follow our naming conventions for files, variables and types.</li>
	<li>Use RequireJS in a clean way.</li>
	<li>Write clean JavaScript code that looks good.</li>
</ul>

          </div>
        <h3 id="code-conventions">1 Code Conventions</h3>
<div class="warning"><p>The current codebase does not yet follow all of these principles.</p></div>
<ul>
	<li>We use only the <tt>TAB</tt> character for indentation.</li>
	<li>We use <tt>UpperCamelCase</tt> for class names, and <tt>lowerCamelCase</tt> for method and property names.</li>
	<li>Methods and properties that begin with an underscore (<tt>_</tt>) are <code>private</code>.</li>
	<li>Variables which contain <strong>jQuery</strong> elements should be named like <tt>$element</tt>, starting with a <code>$</code>.</li>
	<li>We use <tt>that</tt> as a name for a closure reference to <tt>this</tt>, but try to avoid it if there&#8217;s the possibility of scope binding.   Unfortunately jQuery&#8217;s event handlers do not allow easy scope binding.</li>
</ul>
<h3 id="code-documentation">2 Code Documentation</h3>
<p>We use <code>JSDoc</code> for code documentation. Please see <tt>plugins/common/block/</tt> for an example on how to use this.</p>
<p>Further information about rendering documentation can be found in the <a href="/documentation_guidelines.html">Documentation Guide</a>.</p>
<h3 id="requirejs-module-skeleton">3 RequireJS module skeleton</h3>
<p>All files which are RequireJS modules (scripts in <tt>package/lib</tt>) should follow this structure.</p>
<div class="code_container">
<div class="filename">package/lib/module.js</div>
<pre class="brush: javascript; gutter: false; toolbar: false">

/*!
 * Aloha Editor
 * Author &amp; Copyright (c) 2011 Gentics Software GmbH
 * aloha-sales@gentics.com
 * Licensed unter the terms of http://www.aloha-editor.com/license.html
 */

define(['dependency'],
function(Dependency) {
	&quot;use strict&quot;;

	// Declare exports

	return exports;
});
</pre></div><h3 id="classes">4 Classes</h3>
<div class="warning"><p>Not current anymore, we strive for a more JS &#8211; style.</p></div>
<p>Every class should go into one module which means one file. The filename should be lowercase, even if the class is camelcased.</p>
<div class="code_container">
<div class="filename">package/lib/classname.js</div>
<pre class="brush: javascript; gutter: false; toolbar: false">

/*!
 * Aloha Editor
 * Author &amp; Copyright (c) 2011 Gentics Software GmbH
 * aloha-sales@gentics.com
 * Licensed unter the terms of http://www.aloha-editor.com/license.html
 */

define(['core/observable'],
function(Observable) {
	&quot;use strict&quot;;

	/**
	 * Description of the class
	 *
	 * @class MyClass
	 */
	return Class.extend(Observable, {

		/**
		 * An optional constructor
		 *
		 * @method
		 * @constructor
		 */
		 _constructor: function() {

		 }

	});
});
</pre></div><p>But a module is not limited to expose a class. You could also export one of the following:</p>
<ul>
	<li>Singletons (Class instances)</li>
	<li>Mixins (Class definition without <code>Class.extend</code> call)</li>
</ul>
<p>Or just about any other JavaScript value that is useful as a dependency.</p>
<h3 id="singletons">5 Singletons</h3>
<p>All singletons should follow this structure:</p>
<div class="code_container">
<pre class="brush: javascript; gutter: false; toolbar: false">

/*!
 * Aloha Editor
 * Author &amp; Copyright (c) 2011 Gentics Software GmbH
 * aloha-sales@gentics.com
 * Licensed unter the terms of http://www.aloha-editor.com/license.html
 */

define([],
function() {
	&quot;use strict&quot;;

	return new (Class.extend({
		// Class definition here
	}))();
});
</pre></div><p>It will define a class and return a new instance that will be exported. Singletons are useful for global objects that have state.</p>
<h3 id="requirejs-dependency-order">6 RequireJS Dependency Order</h3>
<p><span class="caps">TODO</span>: Explain the order</p>
<ul>
	<li>The base class</li>
	<li>Other Classes</li>
	<li>i18n</li>
	<li>i18nCore</li>
	<li>Text files</li>
	<li>vendor</li>
	<li>css</li>
</ul>
<h3 id="public-api-private-methods-and-attributes">7 Public <span class="caps">API</span>, Private methods and attributes</h3>
<p>All methods and properties which are public <span class="caps">API</span> are marked with <tt>@api</tt>. The public <span class="caps">API</span> is supported for a longer period by the Aloha Core Team, and when a public <span class="caps">API</span> changes, this is clearly communicated in the Release Notes of a version.</p>
<p>On the contrary, we prefix <tt>private</tt> methods and attributes with an underscore. The <strong>user</strong> of an <span class="caps">API</span> should never override or call methods <tt>private</tt> methods as they are not meant for him to be overridden.</p>
<p>There&#8217;s also a type in between: methods which are not <tt>private</tt> but do not have a <tt>@api</tt> annotation. They can be safely overridden by the user, and he should not experience any unwanted behavior. Still, the names or functionality of these methods can change without notice between releases. In the long run, all of these methods should become part of the public <span class="caps">API</span>, as soon as they are proven in real life.</p>
<p>To sum it up, we have three types of methods/properties:</p>
<ul>
	<li><tt>@api</tt> methods: Public <span class="caps">API</span>, the user of the object can rely on the functionality to be stable, changes in @api are clearly communicated</li>
	<li>non-<code>@api</code> but also not private: The user can use it, but needs to be aware the method might still change.</li>
	<li>private (prefixed with <tt>_</tt>): The user should never ever call or access this. Very strange things might happen.</li>
</ul>
<h3 id="naming-of-methods">8 Naming of methods</h3>
<h4 id="initialization-methods">8.1 Initialization Methods</h4>
<p>Initialization methods should be named <tt>init()</tt>.</p>
<p>Good:</p>
<ul>
	<li><tt>init()</tt></li>
	<li><tt>initSidebar()</tt></li>
</ul>
<p>Bad:</p>
<ul>
	<li><code>initialize()</code></li>
	<li><code>initializeSidebar()</code></li>
	<li><code>start()</code></li>
	<li><code>run()</code></li>
</ul>
<h4 id="shutdown-methods">8.2 Shutdown methods</h4>
<p>Shutdown methods should be named <tt>destroy()</tt>.</p>
<p>Good:</p>
<ul>
	<li><tt>destroy()</tt></li>
</ul>
<p>Bad:</p>
<ul>
	<li><code>shutdown()</code></li>
	<li><code>stop()</code></li>
</ul>
<h3 id="changelog">9 Changelog</h3>
<ul>
	<li>July 3, 2011: Initial version by <a href="credits.html#skurfuerst">Sebastian Kurf√ºrst</a> and <a href="credits.html#hlubek">Christopher Hlubek</a></li>
</ul>

      </div>
        <div id="subCol">
          <h3 class="chapter"><img src="images/strobe/chapters.png" alt="" />Chapters</h3>
          <ol class="chapters">
            <li><a href="#code-conventions"><p>Code Conventions</p>
</a></li><li><a href="#code-documentation"><p>Code Documentation</p>
</a></li><li><a href="#requirejs-module-skeleton"><p>RequireJS module skeleton</p>
</a></li><li><a href="#classes"><p>Classes</p>
</a></li><li><a href="#singletons"><p>Singletons</p>
</a></li><li><a href="#requirejs-dependency-order"><p>RequireJS Dependency Order</p>
</a></li><li><a href="#public-api-private-methods-and-attributes"><p>Public <span class="caps">API</span>, Private methods and attributes</p>
</a></li><li><a href="#naming-of-methods"><p>Naming of methods</p>
</a><ul><li><a href="#initialization-methods"><p>Initialization Methods</p>
</a></li> <li><a href="#shutdown-methods"><p>Shutdown methods</p>
</a></li></ul></li><li><a href="#changelog"><p>Changelog</p>
</a></li>
          </ol>
        </div>
    </div>
  </div>

  <hr class="hide" />
	  <footer>
	    <div class="container">
	      <div class="col">
	        <a href="index.html"><img src="images/footer/logo.png" alt="Aloha Editor" /></a>
	        <p>
	        	Templates based on <a href="https://github.com/sproutcore/sproutguides">SproutCore guides</a>.
	        </p>
	      </div>
	      <a href="#feature" class="top">Back To Top</a>
	    </div>
	  </footer>

  <script src="http://code.jquery.com/jquery-1.6.min.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" src="javascripts/alohaEditorGuides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushJScript.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushCss.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all()
  </script>
</body>
</html>
